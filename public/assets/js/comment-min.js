var commentForm=$(".create-comment");function commentMaker({comment:e,success:t}){const{content:n,user:{name:c},_id:o}=e;return t&&new Noty({theme:"relax",text:`${t}`,type:"success",layout:"topRight",timeout:1500}).show(),`<div id="comment-container-${o}" ><a\n      id="delete-comment-${o}"\n      href="/user/destroy-comment/${o}"\n      >X</a>\n    <div>${n}</div>\n    <div>${c}</div>\n  </div>\n  `}commentForm.each(function(){$(this).on("submit",function(e){e.preventDefault(),$.ajax({type:"POST",url:"/user/create-comment",data:$(this).serialize(),success:function(e){const{comment:{post:t,_id:n}}=e;$(`#comment-container-${t}`).prepend(commentMaker(e)),$(`#delete-comment-${n}`).on("click",function(e){e.preventDefault(),$.ajax({type:"GET",url:`/user/destroy-comment/${n}`,success:function(e){$(`#comment-container-${n}`).remove();const{success:t}=e;t&&new Noty({theme:"relax",text:`${t}`,type:"success",layout:"topRight",timeout:1500}).show()}})})}})})});const comments=$(".delete-comments");comments.each(function(){let e=$(this).attr("id");$(this).on("click",function(t){t.preventDefault(),$.ajax({type:"GET",url:`/user/destroy-comment/${e}`,success:function(t){$(`#comment-container-${e}`).remove();const{success:n}=t;n&&new Noty({theme:"relax",text:`${n}`,type:"success",layout:"topRight",timeout:1500}).show()}})})});