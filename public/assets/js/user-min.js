var socialPostForm=$("#post_form");function commentMaker({comment:t,success:e}){const{content:o,user:{name:n},_id:s}=t;return e&&new Noty({theme:"relax",text:`${e}`,type:"success",layout:"topRight",timeout:1500}).show(),`<div id="comment-container-${s}" ><a\n      href="/user/destroy-comment/${s}"\n      >X</a>\n    <div>${o}</div>\n    <div>${n}</div>\n  </div>\n  `}function postMaker({data:t,success:e}){const{content:o,user:{name:n="",_id:s=""}="",_id:c}=t;return e&&new Noty({theme:"relax",text:`${e}`,type:"success",layout:"topRight",timeout:1500}).show(),`<p id="post-container-${c}">\n        <a id="destroy-post-${c}" href="/user/destroy-post/${c}">X</a>\n        <h3>${n}</h3>\n        <h4>${o}</h4>\n        <div>\n          <form id="comment-form-${c}" class="create-comment" action="/user/create-comment" method="post">\n            <textarea name="post_comment" cols="10" rows="1"></textarea>\n            <input name="post_id" value="${c}" hidden />\n            <button type="submit">Add Comment</button>\n          </form>\n          <div id="comment-container-${c}">\n          </div>\n        </div>\n      </p>`}socialPostForm.submit(t=>{t.preventDefault();const e=socialPostForm.serialize();$.ajax({type:"POST",url:"/user/create-post",data:e,success:function(t){socialPostForm.append(`${postMaker(t)}`);const{data:{_id:e}}=t;$(`#destroy-post-${e}`).on("click",function(t){t.preventDefault(),$.ajax({type:"GET",url:`/user/destroy-post/${e}`,success:function(t){$(`#post-container-${e}`).remove();const{success:o}=t;o&&new Noty({theme:"relax",text:`${o}`,type:"success",layout:"topRight",timeout:1500}).show()}})});const o=$(`#comment-form-${e}`);o.on("submit",function(t){t.preventDefault(),$.ajax({type:"POST",url:"/user/create-comment",data:$(o).serialize(),success:function(t){const{comment:{post:e,_id:o}}=t;$(`#comment-container-${e}`).prepend(commentMaker(t)),$(`#delete-comment-${o}`).on("click",function(t){t.preventDefault(),$.ajax({type:"GET",url:`/user/destroy-comment/${o}`,success:function(t){$(`#comment-container-${o}`).remove();const{success:e}=t;e&&new Noty({theme:"relax",text:`${e}`,type:"success",layout:"topRight",timeout:1500}).show()}})})}})})}})});const deletePost=$('a[href^="/user/destroy-post"]');deletePost.each(function(){const t=$(this),e=t.attr("id");t.on("click",function(t){t.preventDefault(),$.ajax({type:"GET",url:`/user/destroy-post/${e}`,success:function(t){$(`#post-container-${e}`).remove();const{success:o}=t;o&&new Noty({theme:"relax",text:`${o}`,type:"success",layout:"topRight",timeout:1500}).show()}})})});